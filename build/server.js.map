{"version":3,"sources":["../server/server.js"],"names":["require","express","mongoose","bodyParser","RedisStore","session","PORT","process","env","client","redis","createClient","on","console","log","app","routes","use","json","credentials","secret","store","host","port","ttl","resave","saveUninitialized","passport","initialize","listen"],"mappings":";;;;;;;;;;;;;AAIA;;AACA;;AAEA;;AACA;;AACA;;AACA;;;;AAVAA,OAAO,CAAC,iBAAD,CAAP;;AACA,MAAMC,OAAO,GAAGD,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAME,QAAQ,GAAIF,OAAO,CAAC,eAAD,CAAzB;;AACA,MAAMG,UAAU,GAAGH,OAAO,CAAC,aAAD,CAA1B;;AAGA,MAAMI,UAAU,GAAGJ,OAAO,CAAC,eAAD,CAAP,CAAyBK,uBAAzB,CAAnB;;AAKA,MAAMC,IAAI,GAAGC,OAAO,CAACC,GAAR,CAAYF,IAAzB,C,CAEA;AAGA;;AAEA,IAAIG,MAAM,GAAGC,eAAMC,YAAN,EAAb;;;AACAF,MAAM,CAACG,EAAP,CAAU,SAAV,EAAqB,MAAM;AACzBC,EAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ;AACD,CAFD;AAIA,MAAMC,GAAG,GAAGd,OAAO,EAAnB;;;AACA,MAAMe,MAAM,GAAGhB,OAAO,CAAC,iBAAD,CAAtB;;AAEAe,GAAG,CAACE,GAAJ,CAAQd,UAAU,CAACe,IAAX,EAAR;AACAH,GAAG,CAACE,GAAJ,CAAQ,mBAAK;AACX,YAAU,uBADC;AAEX,aAAW,gCAFA;AAGX,uBAAqB,IAHV;AAIX,0BAAwB,GAJb;AAKTE,EAAAA,WAAW,EAAE;AALJ,CAAL,CAAR;AAQAJ,GAAG,CAACE,GAAJ,CAAQ,6BAAQ;AACdG,EAAAA,MAAM,EAAE,SADM;AAEdC,EAAAA,KAAK,EAAE,IAAIjB,UAAJ,CAAe;AAAEkB,IAAAA,IAAI,EAAE,WAAR;AAAqBC,IAAAA,IAAI,EAAE,IAA3B;AAAiCd,IAAAA,MAAjC;AAAyCe,IAAAA,GAAG,EAAI;AAAhD,GAAf,CAFO;AAGdC,EAAAA,MAAM,EAAE,IAHM;AAIdC,EAAAA,iBAAiB,EAAE;AAJL,CAAR,CAAR;AAMAX,GAAG,CAACE,GAAJ,CAAQU,kBAASC,UAAT,EAAR;AACAb,GAAG,CAACE,GAAJ,CAAQU,kBAAStB,OAAT,EAAR;AACAU,GAAG,CAACE,GAAJ,CAAQd,UAAU,CAACe,IAAX,EAAR;AAEAF,MAAM,CAACD,GAAD,CAAN;AAEAA,GAAG,CAACc,MAAJ,CAAWvB,IAAI,IAAI,IAAnB,EAAyB,MAAMO,OAAO,CAACC,GAAR,CAAY,yBAAZ,CAA/B","sourcesContent":["require('./config/config')\nconst express = require('express');\nconst mongoose  = require('./db/mongoose');\nconst bodyParser = require('body-parser');\nimport server from './graph'\nimport session from 'express-session';\nconst RedisStore = require('connect-redis')(session);\nimport cors from 'cors';\nimport passport from 'passport'\nimport redis from 'redis'\nimport https from 'https'\nconst PORT = process.env.PORT\n\n// Promise.new(https.get(\"https://en.wikipedia.org/w/api.php?action=parse&section=0&prop=text&format=json&page=pizza\")\n\n\n//Creat Redis Client\n\nlet client = redis.createClient();\nclient.on('connect', () => {\n  console.log('connected to Redis')\n})\n\nconst app = express();\nconst routes = require('./routes/routes');\n\napp.use(bodyParser.json());\napp.use(cors({\n  \"origin\": \"http://localhost:3000\",\n  \"methods\": \"GET,HEAD,PUT,PATCH,POST,DELETE\",\n  \"preflightContinue\": true,\n  \"optionsSuccessStatus\": 204,\n    credentials: true\n}));\n\napp.use(session({\n  secret: \"worldly\",\n  store: new RedisStore({ host: 'localhost', port: 6379, client, ttl :  260}),\n  resave: true,\n  saveUninitialized: false\n}))\napp.use(passport.initialize())\napp.use(passport.session())\napp.use(bodyParser.json())\n\nroutes(app);\n\napp.listen(PORT || 3001, () => console.log(\"started up on port 3001\"));\n\nexport {\n  app,\n  client,\n  passport\n};\n"],"file":"server.js"}